<Window x:Class="XabboImager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="XabboImager"
        SizeToContent="WidthAndHeight" MinWidth="680" MinHeight="740" WindowStartupLocation="CenterScreen"
        UseLayoutRounding="True" SnapsToDevicePixels="True" Background="Transparent" ResizeMode="NoResize" WindowStyle="None" AllowsTransparency="True">
    <Grid Background="{StaticResource panel}" SnapsToDevicePixels="True">
        <Grid.RowDefinitions>
            <RowDefinition Height="32"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border x:Name="TitleBar" Grid.Row="0" Background="{StaticResource panel}" BorderBrush="{StaticResource border}" BorderThickness="0,0,0,1" Padding="8,0,8,0">
            <Grid Height="32" Background="Transparent" MouseLeftButtonDown="Title_MouseDown">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="XabboImager" Margin="0" VerticalAlignment="Center" Foreground="{StaticResource txt}"/>
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0">
                    <Button Width="30" Height="30" Content="—" Click="Min_Click" Background="Transparent" BorderBrush="Transparent" Foreground="{StaticResource txt}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    <Button Width="30" Height="30" Content="✕" Click="Close_Click" Background="Transparent" BorderBrush="Transparent" Foreground="{StaticResource txt}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>

        <Grid Grid.Row="1" Margin="8" HorizontalAlignment="Left" VerticalAlignment="Top">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Row="0" Grid.Column="0" Margin="6" Width="320">
                <Grid Margin="8">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Row="0" Grid.ColumnSpan="2" Text="settings" FontWeight="Bold" Foreground="{StaticResource txt}"/>

                    <StackPanel Grid.Row="1" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,6,0,0">
                        <CheckBox x:Name="edit" Content="edit" Margin="0,0,12,0" Checked="Mode_Changed" Unchecked="Mode_Changed"/>
                        <RadioButton x:Name="modeCap" GroupName="m" Content="capture" IsChecked="True" Margin="0,0,12,0" Checked="Mode_Changed"/>
                        <RadioButton x:Name="modeInj" GroupName="m" Content="inject" Margin="0,0,12,0" Checked="Mode_Changed"/>
                    </StackPanel>



                    <StackPanel Grid.Row="3" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,6,0,0">
                        <TextBox x:Name="txt" Width="160" Height="28" Foreground="{StaticResource txt}" Background="{StaticResource panel}" BorderBrush="{StaticResource border}" CaretBrush="{StaticResource txt}"/>
                        <ComboBox x:Name="color" Width="136" Height="28" Margin="5,0,0,0" Background="{StaticResource panel}" Foreground="{StaticResource txt}" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <ComboBoxItem Content="yellow" Tag="01"/>
                            <ComboBoxItem Content="white" Tag="11"/>
                            <ComboBoxItem Content="orange" Tag="02"/>
                            <ComboBoxItem Content="lime" Tag="03"/>
                            <ComboBoxItem Content="green" Tag="04"/>
                            <ComboBoxItem Content="blue" Tag="06"/>
                            <ComboBoxItem Content="pink" Tag="07"/>
                            <ComboBoxItem Content="red" Tag="10"/>
                            <ComboBoxItem Content="black" Tag="13"/>
                            <ComboBoxItem Content="silver" Tag="12"/>
                        </ComboBox>
                    </StackPanel>

                    <StackPanel Grid.Row="4" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,6,0,0">
                        <Button x:Name="btnAddText" Content="Add Text" Click="AddText_Click" Margin="6,0,0,0" Width="92"/>
                        <Button x:Name="btnOpen" Content="Open Image" Click="Open_Click" Margin="6,0,0,0" Width="92"/>
                        <Button x:Name="btnOptimize" Content="ImgOptimize" Click="Optimize_Click" Margin="6,0,0,0"/>
                    </StackPanel>

                    <Grid Grid.Row="5" Grid.ColumnSpan="2" Margin="0,8,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="alpha" Margin="0,0,8,0" Foreground="{StaticResource txt}" VerticalAlignment="Center"/>
                        <Slider Grid.Column="1" x:Name="alpha" Minimum="0" Maximum="254" Height="24" VerticalAlignment="Center" HorizontalAlignment="Stretch" Background="#000F1215"/>
                    </Grid>

                    <Grid Grid.Row="6" Grid.ColumnSpan="2" Margin="0,8,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="scale" Margin="0,0,10,0" Foreground="{StaticResource txt}" VerticalAlignment="Center"/>
                        <Slider Grid.Column="1" x:Name="scale" Minimum="1" Maximum="100" Height="24" VerticalAlignment="Center" Margin="1,0,0,0" Background="#000F1215"/>
                    </Grid>

                    <StackPanel Grid.Row="7" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,94,0,0" Height="44" VerticalAlignment="Top" HorizontalAlignment="Right">
                        <Button x:Name="btnClear" Content="Clear" Width="80" Height="35" Click="Clear_Click" Margin="0,0,8,0"/>
                        <Button x:Name="btnSave" Content="Apply" Width="80" Height="35" Click="Apply_Click" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="14"/>
                    </StackPanel>
                </Grid>
            </Border>

            <Border Grid.Row="0" Grid.Column="1" Margin="6" Width="320">
                <StackPanel>
                    <TextBlock Text="2x view" FontWeight="Bold" Foreground="{StaticResource txt}" Margin="5,0,0,0"/>
                    <Border Width="320" Height="320" Margin="0,6,0,0" Background="#0D0F12" Padding="0" BorderThickness="0" SnapsToDevicePixels="True">
                        <Image x:Name="zoom" Stretch="None" RenderOptions.BitmapScalingMode="NearestNeighbor"/>
                    </Border>
                </StackPanel>
            </Border>

            <Border Grid.Row="1" Grid.Column="0" Margin="6" Width="320">
                <StackPanel>
                    <TextBlock Text="server preview" FontWeight="Bold" Foreground="{StaticResource txt}" Margin="5,0,0,0"/>
                    <Border Width="320" Height="320" Margin="0,6,0,0" Background="#0D0F12" Padding="0" BorderThickness="0" SnapsToDevicePixels="True">
                        <Image x:Name="preview" Stretch="None"/>
                    </Border>
                </StackPanel>
            </Border>

            <Border Grid.Row="1" Grid.Column="1" Margin="6" Width="320">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="canvas" FontWeight="Bold" Foreground="{StaticResource txt}" Margin="5,0,0,0"/>
                        <TextBlock Margin="140,0,4,0" Foreground="{StaticResource txt}" Width="84" FontSize="9" VerticalAlignment="Center"><Run Text="Show"/><Run Language="de-de" Text=" "/><Run Text="Server Preview "/></TextBlock>
                        <Slider x:Name="bgSwitch" Width="31" Height="18" Minimum="0" Maximum="1" Value="1" IsSnapToTickEnabled="True" TickFrequency="1" ValueChanged="BgSwitch_Changed" Background="#000F1215"/>
                    </StackPanel>
                    <Border Width="320" Height="320" Margin="0,6,0,0" Background="#0D0F12" Padding="0" BorderThickness="0" SnapsToDevicePixels="True">
                        <Grid>
                            <Image x:Name="serverBgInCanvas" Stretch="None" Visibility="Collapsed" Width="320" Height="320" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <Canvas x:Name="canvas" Width="320" Height="320" Background="Transparent" SnapsToDevicePixels="True"
                                    MouseLeftButtonDown="Canvas_MouseLeftButtonDown"
                                    MouseMove="Canvas_MouseMove"
                                    MouseLeftButtonUp="Canvas_MouseLeftButtonUp"/>
                        </Grid>
                    </Border>
                </StackPanel>
            </Border>
        </Grid>

        

        <Border Grid.Row="2" Background="{StaticResource panel}" BorderBrush="{StaticResource border}" BorderThickness="1,1,1,1" Padding="6,4" Width="652" Height="22" VerticalAlignment="Center">
            <DockPanel LastChildFill="False" Margin="2,0,7,0" Width="625" Height="20" HorizontalAlignment="Left" VerticalAlignment="Center">
                <TextBlock x:Name="status" Foreground="{StaticResource txt}" DockPanel.Dock="Left"/>
                <TextBlock x:Name="overflow" Foreground="#FF4444" DockPanel.Dock="Right"/>
            </DockPanel>
        </Border>
    </Grid>
</Window>
